<!DOCTYPE html>
<html lang="en">
<head>

  <script>
    // Set management-mode + inventory pending flags BEFORE first paint to prevent flicker
    (function(){
      try{
        var html = document.documentElement;
        var isAdmin = localStorage.getItem("dsd_admin_mode_v1") === "1";
        if(isAdmin) html.classList.add("admin-on");
        html.classList.add("inv-pending");
      }catch(e){}
    })();
  </script>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Dune Sea Diagnostics — Appliance Repair • Buy/Sell • Rentals</title>
<meta content="Dune Sea Diagnostics: appliance repair house calls, buy/sell appliances, and rentals in the Kansas City area." name="description"/>
<link href="assets/css/styles.css" rel="stylesheet"/>
</head>
<body>
<header class="nav">
<div class="container">
<div class="nav-inner">
<a class="brand" href="index.html">
<div class="logo">DS</div>
<div>
<div class="name" id="bizName">Dune Sea Diagnostics</div>
<div class="tag">Appliance Repair • Buy/Sell • Rentals</div>
</div>
</a>
<button class="navToggle" aria-label="Menu" aria-controls="topNav" aria-expanded="false">☰</button>

        <nav class="nav-links" id="topNav">
  <a href="index.html">Home</a>
  <a href="schedule.html">Schedule Service</a>
  <a href="inventory.html">Inventory</a>
  <a href="gallery.html">Gallery</a>
  <a href="services.html">About</a>
  <a href="contact.html">Contact</a>
</nav>
</div>
</div>
</header>
<main id="top">
<!-- SCHEDULE -->
<section class="section" id="schedule">
<div class="container">
<h2>Schedule Service</h2>

<div class="card panel" style="margin-top:16px;">
  <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
    <h3 style="margin:0;">Available Times</h3>
    <div style="display:flex; align-items:center; gap:10px;">
      <button class="btn" id="calPrev" type="button">◀</button>
      <div class="small" id="calRange"></div>
      <button class="btn" id="calNext" type="button">▶</button>
    </div>
  </div>
  <div class="hr"></div>
  <div class="cal-scroll">
    <div class="cal-grid" id="calGrid"></div>
  </div>
  <div class="small" style="margin-top:10px;">Pick an <strong>Available</strong> slot to request an appointment. You’ll get a confirmation once we review the request.</div>
</div>

<div id="apptTables" class="two-col" style="display:none; margin-top:16px;">
  <div class="card panel">
    <h4 style="margin:0 0 8px;">Requests <span class="pill" id="pendingCount">0</span></h4>
    <div class="small">New customer requests awaiting review.</div>
    <div class="hr"></div>
    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr>
            <th style="width:170px;">When</th>
            <th style="width:180px;">Customer</th>
            <th>Service</th>
            <th style="width:110px;">Actions</th>
          </tr>
        </thead>
        <tbody id="pendingTableBody"></tbody>
      </table>
    </div>
  </div>

  <div class="card panel">
    <h4 style="margin:0 0 8px;">Scheduled <span class="pill" id="bookedCount">0</span></h4>
    <div class="small">Confirmed appointments.</div>
    <div class="hr"></div>
    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr>
            <th style="width:170px;">When</th>
            <th style="width:180px;">Customer</th>
            <th>Service</th>
            <th style="width:110px;">Actions</th>
          </tr>
        </thead>
        <tbody id="acceptedTableBody"></tbody>
      </table>
    </div>
  </div>
</div>


<div id="adminPanel" style="display:none; margin-top:16px;">
<div class="hr"></div>
<h3 style="margin:0 0 10px;">Availability &amp; Blocks</h3>
<div class="two-col">
<div class="card panel">
<h4 style="margin:0 0 8px;">Weekly Availability</h4>
<form id="availabilityForm">
<div class="small">Enable days and set start/end hours (24h). Example: 9 → 18.</div>
<div class="hr"></div>
<div style="display:grid; gap:10px;">
<!-- Rows for each day -->
<div class="avail-row" data-dow="0">
  <span class="day-label">Sunday</span>
  <input class="input hour-input dowStart" max="23" min="0" type="number"/>
  <input class="input hour-input dowEnd" max="24" min="1" type="number"/>
  <label class="enabled-wrap small"><input class="dowEnabled" type="checkbox"/> Enabled</label>
</div>
<div class="avail-row" data-dow="1">
  <span class="day-label">Monday</span>
  <input class="input hour-input dowStart" max="23" min="0" type="number"/>
  <input class="input hour-input dowEnd" max="24" min="1" type="number"/>
  <label class="enabled-wrap small"><input class="dowEnabled" type="checkbox"/> Enabled</label>
</div>
<div class="avail-row" data-dow="2">
  <span class="day-label">Tuesday</span>
  <input class="input hour-input dowStart" max="23" min="0" type="number"/>
  <input class="input hour-input dowEnd" max="24" min="1" type="number"/>
  <label class="enabled-wrap small"><input class="dowEnabled" type="checkbox"/> Enabled</label>
</div>
<div class="avail-row" data-dow="3">
  <span class="day-label">Wednesday</span>
  <input class="input hour-input dowStart" max="23" min="0" type="number"/>
  <input class="input hour-input dowEnd" max="24" min="1" type="number"/>
  <label class="enabled-wrap small"><input class="dowEnabled" type="checkbox"/> Enabled</label>
</div>
<div class="avail-row" data-dow="4">
  <span class="day-label">Thursday</span>
  <input class="input hour-input dowStart" max="23" min="0" type="number"/>
  <input class="input hour-input dowEnd" max="24" min="1" type="number"/>
  <label class="enabled-wrap small"><input class="dowEnabled" type="checkbox"/> Enabled</label>
</div>
<div class="avail-row" data-dow="5">
  <span class="day-label">Friday</span>
  <input class="input hour-input dowStart" max="23" min="0" type="number"/>
  <input class="input hour-input dowEnd" max="24" min="1" type="number"/>
  <label class="enabled-wrap small"><input class="dowEnabled" type="checkbox"/> Enabled</label>
</div>
<div class="avail-row" data-dow="6">
  <span class="day-label">Saturday</span>
  <input class="input hour-input dowStart" max="23" min="0" type="number"/>
  <input class="input hour-input dowEnd" max="24" min="1" type="number"/>
  <label class="enabled-wrap small"><input class="dowEnabled" type="checkbox"/> Enabled</label>
</div>
</div>
<div class="hr"></div>
<button class="btn primary" type="submit">Save Weekly Availability</button>
</form>
</div>
<div class="card panel">
<h4 style="margin:0 0 8px;">Block a Whole Day</h4>
<div class="small">Blocks all slots for the selected date. (You can unblock individual slots on the calendar.)</div>
<div class="hr"></div>
<div class="form-row">
<input class="input" id="blockDate" type="date"/>
<button class="btn" id="blockDateBtn" type="button">Block Day</button>
</div>
<div class="hr"></div>
<h4 style="margin:0 0 8px;">Blocked Slots</h4>
<div id="blocksList"></div>
<div class="hr"></div>
<button class="btn danger" id="resetBtn" type="button">Reset Local Data (this browser)</button>
</div>
</div>
</div>
</div>
</div>
</section>
<footer class="footer">
<div class="container">
<div style="display:flex; justify-content:space-between; gap:14px; flex-wrap:wrap;">
          <div>© <span id="year"></span> Dune Sea Diagnostics LLC • Kansas City, MO</div>
          <div class="small"><a href="info.html#privacy">Privacy</a> • <a href="info.html#terms">Terms</a></div>
</div>
</div>
</footer>
</main>
<!-- MODAL --><div class="modal-backdrop" id="modalBackdrop">
<div aria-modal="true" class="modal" role="dialog">
<div class="mhead">
<div class="mtitle" id="modalTitle">Request</div>
<button class="btn" id="modalClose">Close</button>
</div>
<div class="mbody">
<!-- Request -->
<div id="requestGate">
<div class="small">Requested time: <strong id="reqWhen"></strong></div>
<div class="hr"></div>
<form id="requestForm">
<input id="reqStart" type="hidden"/>
<div class="form-row">
<input class="input" id="reqName" placeholder="Your name" required=""/>
<input class="input" id="reqPhone" placeholder="Phone number" required=""/>
</div>
<div class="form-row" style="margin-top:12px;">
<input class="input" id="reqEmail" placeholder="Email (optional)"/>
<select id="reqServiceType" required="">
<option value="Repair (House Call)">Repair (House Call)</option>
<option value="Inventory Purchase">Inventory Purchase</option>
<option value="Rental Inquiry">Rental Inquiry</option>
</select>
</div>
<div style="margin-top:12px;">
<input class="input" id="reqAppliance" placeholder="Appliance type / brand / model (e.g., Whirlpool washer WTW5000DW)"/>
</div>
<div style="margin-top:12px;">
<textarea id="reqNotes" placeholder="Describe the issue (error codes, symptoms, etc.)"></textarea>
<div class="small" style="margin-top:8px;">Uploads aren't implemented in static mode yet. Add that when we connect a backend.</div>
</div>
<div class="hr"></div>
<button class="btn primary" type="submit">Submit Request</button>
</form>
</div>
<!-- Admin -->
<div id="jobDetailsGate" style="display:none;">
<div class="small">Appointment</div>
<div class="hr"></div>
<div class="card panel">
<div class="two-col" style="gap:12px;">
<div>
<div class="small">When</div>
<div><strong id="jobWhen"></strong></div>
</div>
<div>
<div class="small">Status</div>
<div><strong id="jobStatus"></strong></div>
</div>
</div>
<div class="hr"></div>
<div class="two-col" style="gap:12px;">
<div>
<div class="small">Customer</div>
<div><strong id="jobName"></strong></div>
<div class="small" id="jobContact"></div>
</div>
<div>
<div class="small">Service</div>
<div><strong id="jobService"></strong></div>
<div class="small" id="jobAppliance"></div>
</div>
</div>
<div class="hr"></div>
<div>
<div class="small">Notes</div>
<div id="jobNotes" style="white-space:pre-wrap;"></div>
</div>
</div>
<div class="hr"></div>
<div class="form-row" style="grid-template-columns:repeat(3, minmax(0,1fr));">
<button class="btn primary" id="jobAcceptBtn" type="button">Accept</button>
<button class="btn danger" id="jobRejectBtn" type="button">Reject</button>
<button class="btn danger" id="jobDeleteBtn" type="button">Delete</button>
</div>
<div class="form-row" style="grid-template-columns:1fr; margin-top:10px;">
<button class="btn" id="jobCloseBtn" type="button">Close</button>
</div>
</div>
<div id="adminGate" style="display:none;">
<div class="small">
            Enter your PIN to enable Management mode on this device. Change the PIN in <code>assets/js/app.js</code>.
          </div>
<div class="hr"></div>
<form class="form-row" id="adminPinForm" style="grid-template-columns:1fr auto;">
<input class="input" id="adminPin" placeholder="Management PIN"/>
<button class="btn primary" type="submit">Enable</button>
</form>
</div>
</div>
</div>
</div>
<div class="toast" id="toast"></div>
<script>
  const y = document.getElementById("year");
  if(y) y.textContent = new Date().getFullYear();
</script>
<script src="assets/js/app.js"></script>
</body></html>